---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import H1 from "../components/atoms/H1.astro";
import {getCollection} from "astro:content";

const posts = (await getCollection('blog')).map((post) => ({
  title: post.data.title,
  description: post.data.description,
  src: post.data.src,
  href: `posts/${post.slug}`,
}))
---

<Layout title="Welcome to Astro.">
    <div class="flex flex-col gap-10 w-full max-w-7xl mx-auto">
        <main class="p-16 bg-white">
            <header>
                <H1 size="sm">記事一覧</H1>
            </header>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10 mt-10">
              {
                posts.map((post) => (
                        <a href={post.href}>
                            <Card title={post.title} description={post.description} src={post.src}/>
                        </a>
                ))
              }
            </div>
        </main>
    </div>
</Layout>
